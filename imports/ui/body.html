<body>
    <div class="container">
        <header>
            <h1>Lunchtime Anděl</h1>
        </header>

        <script type="text/javascript">
            var stred = SMap.Coords.fromWGS84(14.404, 50.071);
            var mapa = new SMap(JAK.gel("mapa"), stred, 16);
            mapa.addDefaultLayer(SMap.DEF_BASE).enable();

            //mapa.addDefaultControls();

            var layer = new SMap.Layer.Marker();
            mapa.addLayer(layer);
            layer.enable();
        </script>
 
        <div class="row">
            <div class="col l6">
                <ul>
                    {{#each restaurants}}
                        {{> restaurant}}

                        <script type="text/javascript">
                            var options = {};
                            position = SMap.Coords.fromWGS84({{longitude}}, {{latitude}})
                            var marker = new SMap.Marker(position, "restaurantMarker", options);
                            layer.addMarker(marker);
                        </script>
                    {{/each}}
                </ul>
            </div>

            <div class="col l6">
                <div id="mapa" style="width:600px; height:400px;"></div>
            </div>
        </div>
    </div>
</body>
 
<template name="restaurant">
    <h2>{{title}}</h2>
    <ul class="collection">
    {{#each menu}}
        <li class="collection-item">{{food}}<span class="badge price">{{price}}</span></li>
    {{else}}
        <li class="collection-item grey lighten-4 grey-text text-darken-1">Denní menu není k dispozici.</li>
    {{/each}}
    </ul>
</template>
